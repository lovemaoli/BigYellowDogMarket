<!DOCTYPE html>
<html lang="zh-cn" xmlns:th="http://www.thymeleaf.org">
<head>
    <link rel="shortcut icon" href="/image/xmu.png" type="image/x-icon"/>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>注册 - 校园二手交易平台</title>
    <script src="/js/jquery-3.2.js">
    </script>
    <script type="text/javascript">
        function validate()
        {
            var password = document.getElementById("password").value;
            var rePassword = document.getElementById("rePassword").value;

            if (password !== rePassword)
            {
                document.getElementById("passwordError").innerHTML="两次输入密码不一致";
                document.getElementById("submit").disabled = true;
            }
            else
            {
                if (6 - password.length > 0)
                {
                    document.getElementById("passwordError").innerHTML="密码长度过短，应为6~18位";
                    document.getElementById("submit").disabled = true;
                }
                else if (password.length > 18)
                {
                    document.getElementById("passwordError").innerHTML="密码长度过长，应为6~18位";
                    document.getElementById("submit").disabled = true;
                }
                else {
                    document.getElementById("passwordError").innerHTML="";
                    document.getElementById("submit").disabled = false;
                }
            }
        }
    </script>
    <script type="text/javascript">
        function validateEmail(){
            var email = document.getElementById("email").value;
            if(email.length > 50)
            {
                document.getElementById("emailError").innerHTML="邮箱长度过长";
                document.getElementById("submit").disabled = true;
            }
            else
            {
                document.getElementById("emailError").innerHTML="";
                document.getElementById("submit").disabled = false;
            }
        }
    </script>

    <script type="text/javascript">
        function validatePhoneNum()
        {
            var phonenum = document.getElementById("phoneNum").value;
            if(phonenum.length > 11)
            {
                document.getElementById("phoneNumError").innerHTML="电话号码过长";
                document.getElementById("submit").disabled = true;
            }
            else
            {
                document.getElementById("phoneNumError").innerHTML="";
                document.getElementById("submit").disabled = false;
            }
        }
    </script>

    <script type="text/javascript">
        function validateUID()
        {
            var uid = document.getElementById("uid").value;
            if(uid.length !== 14)
            {
                document.getElementById("uidError").innerHTML="学号长度不正确";
                document.getElementById("submit").disabled = true;
            }
            else
            {
                document.getElementById("uidError").innerHTML="";
                document.getElementById("submit").disabled = false;
            }
        }
    </script>
    <link rel="stylesheet" href="/css/regisstyle.css">
</head>
<body>
<section>
    <div class="leaves">
        <div class="set">
            <div><img src="./image/leaf_01.png"></div>
            <div><img src="./image/leaf_02.png"></div>
            <div><img src="./image/leaf_03.png"></div>
            <div><img src="./image/leaf_04.png"></div>
            <div><img src="./image/leaf_01.png"></div>
            <div><img src="./image/leaf_02.png"></div>
            <div><img src="./image/leaf_03.png"></div>
            <div><img src="./image/leaf_04.png"></div>
        </div>
    </div>
    <img src="./image/bg.jpg" class="bg">
    <img src="./image/girl2.png" class="girl">
    <img src="./image/trees.png" class="trees">
    <div class="login">
        <h2>个人注册</h2>
        <div class="innner">
            <div class="inputBox">
                <form action="/registerUser.do" method="post">
                    <input id="uid" placeholder="学号" type="text" name="sNum" onkeyup="validateUID()" th:text="${sNumError}"/>
                    <span id="uidError" style="color: red"></span>
                    <input type="text" placeholder="用户名" name="Uname" th:text="${uNameError}"/>
                    <input id="password" placeholder="密码" type="password" name="Password" th:text="${pwdError}"/>
                    <input id="rePassword" placeholder="确认密码" type="password" onkeyup="validate()" name="rePassword"/>
                    <span id="passwordError" style="color: red"></span>
                    <input id="email" placeholder="邮箱" type="text" name="Email" onkeyup="validateEmail()" th:text="${emailError}"/>
                    <span id="emailError" style="color: red"></span>
                    <input id="phoneNum" placeholder="联系电话" type="text" name="PhoneNum" onkeyup="validatePhoneNum()" th:text="${phoneNumError}"/>
                    <span id="phoneNumError" style="color: red"></span>

                    <p th:type="error" th:if="${emptyError}!=null" th:text="${emptyError}"></p>
                    <input id="submit" type="submit" class="submit-btn" name="goods-submit"/>
                </form>
            </div>
            <div class="group">
                <a href="/">Back to Home</a>
                <a href="/goToRegister.do">Register</a>
            </div>
        </div>


    </div>
    <script type="text/javascript" src="/js/jquery-3.2.js"></script>
</section>
</body>
</html>